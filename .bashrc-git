# ~/.bashrc:
###### Exports #####
export REPODIR="/c/repos"

###### Alias #####

# Moving Directories
alias cdrive="cd /c"
alias ..="cd .."

# List
alias ls="ls --color=yes"
alias lsl="ls -l --color=yes"
alias lsa="ls -a"
alias lsal="ls -al"

# Basic Git
alias gs="git status -s"
alias ga="git add -A"
alias gf="git fetch"
alias gcm="git commit -m"

# L
alias jl='j --l'
alias jr='j --r'
alias js='j --s'

# BASH
alias reload=". .bashrc"

###### Functions #####

# Aws
function workenv() {
  echo "Change AWS Working environment to > $1"
  rm ~/.aws/config
  rm ~/.aws/credentials
  cp ~/.aws/$1/config ~/.aws/config
  cp ~/.aws/$1/credentials ~/.aws/credentials
}

# Repo
function repoenv() {
  echo "Change working directory to > $1"
  cd $REPODIR/$1
}

# Serverless
function invokesls() {
  _PATH="$2"    
  if [ -z "$_PATH" ]
  then
      echo "sls invoke local -f $1"
      sls invoke local -f $1
  else    
      echo "sls invoke local -f $1 --path $2"
      sls invoke local -f $1 --path $2
  fi
}

# Deployment
function lighthouse() {
  echo "git push origin $1:/lighthouse/$1"
  git push origin $1:lighthouse/$1
}

__git_complete lighthouse _git_checkout

###### BASH CUSTOMIZATION #####
Reset=$(tput sgr0)
Bold=$(tput bold)
Black=$(tput setaf 0)
Red=$(tput setaf 1)
Green=$(tput setaf 2)
Yellow=$(tput setaf 3)
Blue=$(tput setaf 4)
Magenta=$(tput setaf 5)
Cyan=$(tput setaf 6)
White=$(tput setaf 7)

# Bold
BBlack="\[\033[1;30m\]"       # Black
BRed="\[\033[1;31m\]"         # Red
BGreen="\[\033[1;32m\]"       # Green
BYellow="\[\033[1;33m\]"      # Yellow
BBlue="\[\033[1;34m\]"        # Blue
BPurple="\[\033[1;35m\]"      # Purple
BCyan="\[\033[1;36m\]"        # Cyan
BWhite="\[\033[1;37m\]"       # White

# PS1
export oldPS1=$PS1

alias __git_branch="git branch 2>/dev/null | grep '*' | sed 's/* \(.*\)/\1/'"

function is_git_repository {
  git branch > /dev/null 2>&1
}

function set_bash_prompt {
  PS1="$Bold$Greenâžœ $BCyan\W"  
  if is_git_repository ; then    
    PS1="$PS1$BBlue git:($BRed$(__git_branch)$BBlue)"
  fi

  PS1="$PS1 $Reset"
}

PROMPT_COMMAND=set_bash_prompt

###### LOADING FILES #####
[ -f ~/.fzf.bash ] && source ~/.fzf.bash
[ -f ~/j.sh ] && source ~/j.sh