#!/bin/bash
# Usage: cm-arch-browser [work|cm]
# Sets the default browser based on the argument

set_browser() {
    local browser_desktop="$1"
    xdg-settings set default-web-browser "$browser_desktop"
    if [ $? -eq 0 ]; then
        echo "Default browser set to $browser_desktop"
    else
        echo "Failed to set default browser." >&2
        exit 1
    fi
}

case "$1" in
    work)
        set_browser "google-chrome.desktop"
        ;;
    cm)
        set_browser "brave-browser.desktop"
        ;;
    *)
        echo "Usage: $0 [work|cm]" >&2
        exit 1
        ;;
esac
